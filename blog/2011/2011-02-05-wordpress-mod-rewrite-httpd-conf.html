<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta content='IE=edge;chrome=1' http-equiv='X-UA-Compatible'>
    <title>
      Blog Title
    </title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/blog/feed.xml" />
    <link href="/stylesheets/main.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <div class='container'>
      <header>
        <ul class='nav'>
          <li>
            <a href='/'>top</a>
          </li>
          <li>
            <a href='/about.html'>about</a>
          </li>
          <li>
            <a href='/archives.html'>archives</a>
          </li>
          <li>
            <a href='/feed.xml'>feed</a>
          </li>
          <li>
            <a href='/wiki/'>wiki</a>
          </li>
        </ul>
      </header>
      <p>.htaccessに書くより、パフォーマンスが上がると思ってやった。blogにすべてリダイレクトされたり、CSSだけ見つからなかったりしたけど解決したよ。</p>
      
      <p>このblogと同じようなディレクトリ構成になっていることが前提です。</p>
      <pre>RewriteRule ^blog\/index\.php$ blog\/ [L]
      RewriteCond %{REQUEST_FILENAME} ^\/blog\/
      RewriteCond %{DOCUMENT_ROOT}/%{REQUEST_FILENAME} !-f
      RewriteCond %{DOCUMENT_ROOT}/%{REQUEST_FILENAME} !-d
      RewriteRule . /blog/index.php [L]
      </pre>
    </div>
  </body>
</html>
